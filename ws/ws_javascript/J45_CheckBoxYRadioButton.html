<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Check box y radio button</title>
    <link rel="stylesheet" href="css/estilos.css">
    
    <!-- JAVA SCRIPT -->
    <script>
        window.onload = function(){
            // no se muestra la foto al cargar la página
            mostrarFoto(false);

            // se elige la función que maneja el evento check como cambioCheck
            // cuando se marca o desmarca, se ejecuta la función cambioCheck, pasándole el evento
            document.querySelector("input[type=checkbox]").onchange = cambioCheck ; 
            
            // se elgie cambioRadio como función manejadora del evento "cambiar un radio" para todos los radios
            radios = document.querySelectorAll("input[name=cosa]") ; 
            radios.forEach( function(radio){
                radio.onchange = cambioRadio
            })

            // se comprueba qué radio está marcado al inicio de la página. 
            //no vale para nada "al menos en chrome"; autocomplete off en mostrar imagen e imagen del gato por defecto
            // cambioRadio();

        }

        // coge un booleano y si true, muestra foto, si false no. cambia style del elemento <img> "foto"
        function mostrarFoto(boolean){ 
            if(boolean){
                document.getElementById("foto").style.display = "inline" ;
            }
            else {
                document.getElementById("foto").style.display = "none" ;
            }
        }

        function cambioRadio(){
            var radios = document.querySelectorAll("input[name=cosa]");
            // hay que comprobar qué radio es el que ha cambiado
            radios.forEach( function(radio){
                if(radio.checked){
                    document.getElementById("foto").src = "img/" + radio.value ;
                }
            } );
        }
            
        // función manejadora del evento marcar/desmarcar la caja de "mostrar foto"
        function cambioCheck(event){
            //pasa a mostrar foto if true o no if false
            mostrarFoto( event.currentTarget.checked ) ;
        }

    </script>
    
    
    <!-- ESTILOS -->
    <style>
    
    </style>

</head>
<body>
    <div>
        <input type="checkbox" autocomplete="off" />Mostrar foto <br/>

        <input type="radio" name="cosa" value="gato.png" checked="checked" /> Gato <br/>
        <input type="radio" name="cosa" value="perro.png" /> Perro <br/>
        <input type="radio" name="cosa" value="casa.gif" /> Casa <br/>

        <img src="img/gato.png" id="foto" width="400px"/>
    </div>  
</body>
</html>