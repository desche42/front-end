<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/estilos.css">
    <!-- esta función valida un DNI, según las especificaciones del ministerio del interior 
        http://www.interior.gob.es/web/servicios-al-ciudadano/dni/calculo-del-digito-de-control-del-nif-nie 
    -->
    <script>
        // diccionario para la validación de la letra
        var diccionario = [ 
            "T", "R", "W", "A", "G", "M", "Y", "F", "P", "D", "X", "B",
            "N", "J", "Z", "S", "Q", "V", "H", "L", "C", "K", "E"
        ]

        
        function validarDNI(){
            //coge el dni
            var dni = document.querySelector("input#txtDni").value ;

                // // quítale la letra , pasalo a un int , calcula el resto al dividir por 23
                // var resto = parseInt( dni.substr(0,8) ) % 23 ; 

                // // comprueba si es la letra correcta
                // var correcta = diccionario[resto] == dni.substr(8,1).toUpperCase();
                
            // el código comentado de arriba se resume en este:

            if (diccionario[ parseInt( dni.substr(0,8) ) % 23 ] == dni.substr(8,1).toUpperCase()){
                var resultado = "El DNI es correcto" ;
            }
            else{
                var resultado = "El DNI es incorrecto" ;
            }
            
            //escribe el resultado
            document.querySelector("p").innerHTML = resultado;
        }

    </script>
</head>

<body>
        <div class="panel">
            <label for="txtDni">DNI</label>
            <!-- Aquí se pide el DNI, debe contener 8 digitos  y una letra mayúscula  -->
            <input type="text" id="txtDni" pattern="[0-9]{8}[A-Z]"  />
            <br/>
        </div>
        
        <button onclick="validarDNI()">Comprobar</button>
        <p></p>
</body>

</html>